### **步进电机及其控制 - 知识点详解**

---

#### **第一部分：步进电机的工作原理**

**1. 核心定义**

* 步进电机是一种特殊的执行机构，它的核心功能是将**电脉冲信号**转换成**角位移**。
* 通俗地讲：驱动器每给电机一个脉冲信号，电机就严格地按设定的方向转动一个固定的角度（称为**步距角**）。

**2. 核心原理：磁阻最小原理**

* 步进电机（尤其是反应式和混合式）的工作基础是**磁阻最小原理**。
* **含义**：磁通（磁力线）总是倾向于沿着磁阻最小（即最容易导磁）的路径闭合。
* **如何产生转矩**：当定子某相绕组通电产生磁场时，转子上的齿（由导磁材料制成）会受到磁场的吸引力。为了使整个磁路的磁阻最小，转子会自动旋转，使得转子齿与定子通电磁极的齿**对齐**。如果未对齐，就会产生一个“拉动”转子对齐的**磁阻转矩**。

**3. 基本的步进运动（开环控制特性）**

步进电机是一个典型的**开环控制**元件，它的运动由输入的脉冲信号直接决定：

* **位置控制**：转子转过的**总角度**（位置）由输入的**脉冲个数**决定。
    * `总角度 = 脉冲个数 × 步距角`
* **速度控制**：转子的**转动速度**由输入的**脉冲频率**（单位时间内的脉冲数）决定。
* **方向控制**：转子的**转动方向**由定子各相绕组的**通电顺序**（相序）决定。
    * 例如：`A相 -> B相 -> C相` 可能是正转，那么 `A相 -> C相 -> B相` 就是反转。

**4. 步进旋转磁场**

* 与交流电机不同，步进电机的旋转磁场不是连续的，而是**步进式**的。
* 驱动器按固定顺序（称为“拍”）依次给 A、B、C 等定子绕组通电。每切换一次通电状态，定子磁场的轴线就会在空间“跳跃”一个角度。
* 转子为了始终满足磁阻最小，就会“跟随”这个跳跃的磁场，一步一步地转动。

---

#### **第二部分：步进电机的分类与结构**

**1. 主要分类**

* **反应式 (VR)**：定子有绕组，转子由软磁材料（如硅钢片）制成，无永磁体。完全依赖磁阻最小原理工作，转矩较小。
* **永磁式 (PM)**：定子有绕组，转子由**永磁材料**制成。它依赖永磁体与定子磁场的相互作用，步距角通常较大，但具有**自锁转矩**（断电时也能保持一定力矩）。
* **混合式 (HB)**：**目前应用最广泛的类型**。它结合了前两者的优点，结构最复杂，但性能最好（步距角小、转矩大、动态响应好）。

**2. 核心结构：混合式 (HB) 电机**

* **定子**：定子铁心上有多个齿极，齿极上绕有控制绕组（例如A、B两相）。
* **转子**：
    1.  **永磁体**：位于转子轴心，被轴向磁化（一端N极，一端S极）。
    2.  **两片导磁齿轮（软磁铁芯）**：像“盖子”一样套装在永磁体的两端。
    3.  **错齿结构**：这是混合式电机的关键。受永磁体影响，一片齿轮（如转子1）上的所有小齿都呈现为N极，另一片齿轮（转子2）上的所有小齿都呈现为S极。并且，**两片齿轮的小齿在圆周上相互错开半个齿距**。
* **工作**：定子绕组通电后，其磁极与转子上N极和S极的小齿相互作用（吸引或排斥），产生转矩。

---

#### **第三部分：步进电机的静态特性**

**1. 矩角特性（T-θ 曲线）**

* **定义**：指电机在某相绕组**持续通入直流电**（即静态）时，其**电磁转矩 $T$** 与**转子位置失调角 $\theta_e$** 之间的关系。
* **失调角 $\Delta\theta_e$**：转子实际位置与其**稳定平衡点**（通电磁极轴线）之间的夹角。
* **特性曲线**：在不考虑磁饱和时，该特性近似为一条正弦曲线：
    $$T = -T_m \sin(\Delta\theta_e)$$
    * 负号表示这是一个**恢复转矩**，即电机会试图抵抗偏离，拉回到平衡位置。

**2. 关键概念**

* **稳定平衡点**：当失调角 $\Delta\theta_e = 0$ 时，转子齿与通电定子极对齐，此时电磁转矩为零，电机能稳定停在该位置。
* **不稳定平衡点**：当 $\Delta\theta_e = 180^\circ$（电角度）时，转矩也为零，但稍有扰动，电机就会被“推”向稳定平衡点。
* **最大静转矩 / 保持转矩 ($T_m$)**：
    * 在矩角特性曲线上转矩的最大值（发生在 $\Delta\theta_e = \pm 90^\circ$ 时）。
    * 它代表电机在通电状态下，能抵抗而不发生转动的**最大负载转矩**，是衡量电机“力量”的重要指标。

---

#### **第四部分：步进电机的运行特性**

**1. 步距角 ($\theta_b$) 与拍数 (N)**

* **齿距角 ($\theta_t$)**：转子上相邻两齿之间的角度，$\theta_t = 360^\circ / Z_r$（$Z_r$ 为转子齿数）。
* **拍数 (N)**：电机绕组通电状态完成一个循环所需的步数。
* **步距角 ($\theta_b$)**：$\theta_b = \theta_t / N = 360^\circ / (Z_r \times N)$。
* **通电方式**：
    * **单拍制**（如 A-B-C）：每次只通一相电。
    * **双拍制**（如 AB-BC-CA）：每次通两相电。转矩比单拍制大（约 $\sqrt{2}$ 倍或 1.414 倍，具体取决于相数）。
    * **单双拍制**（如 A-AB-B...）：步距角减半（称为“半步”），运行更平稳，分辨率更高。

**2. 矩频特性（T-f 曲线）**

这是步进电机**最重要的动态特性**，描述了电机在**连续运行**时，其输出转矩 $T$ 随输入脉冲频率 $f$ 变化的关系。

* **启动转矩 ($T_{st}$)**：电机在空载或带载时，能够**直接启动而不失步**所能承受的最大转矩。
* **启动频率 ($f_{st}$)**：电机在特定负载下，能够**直接启动而不失步**的最高脉冲频率。
    * 负载转矩 $T_L$ 越大，启动频率 $f_{st}$ 越低。
    * 负载转动惯量 $J$ 越大，启动频率 $f_{st}$ 越低。
* **运行频率 ($f_{run}$)**：电机启动后，在不失步的情况下所能达到的最高运行频率（通常远高于启动频率）。
* **动态转矩 ($T_{dm}$)**：电机在连续运行时输出的转矩。
* **曲线特征**：
    1.  在**低频区**（低于启动频率），电机的输出转矩恒定，等于其最大静转矩或启动转矩。
    2.  在**高频区**（高于某个频率点），转矩会**急剧下降**。
    * **原因**：频率太高时，每个脉冲的持续时间太短。由于电机绕组 $L$ 具有电感，电流的建立需要时间 ($T_a = L/R$)。高频下，电流还没来得及上升到额定值，通电状态就切换了，导致平均电流下降，从而转矩下降。

**3. 失步 (失控)**

* **定义**：电机转子的实际步数与输入的脉冲数不相等，是开环控制的固有缺陷。
* **丢步**：电机加速太快或负载突然增大，导致转子跟不上磁场跳变。
* **越步**：电机减速太快或负载惯性大，导致转子冲过了平衡位置。
* **低频共振**：在某些低频区域，脉冲频率与转子的固有振荡频率重合，导致振动加剧，易引发失步。

---

#### **第五部分：步进电机的驱动系统**

* 步进电机**不能**直接接直流或交流电源，必须使用专用的**驱动器**。
* 驱动器功能：
    1.  **脉冲分配器**：接收上位机（如PLC、单片机）的 `STEP` (步进脉冲) 和 `DIR` (方向) 信号，按逻辑顺序（拍数）分配各相绕组的通/断电信号。
    2.  **功率放大器**：将分配器输出的逻辑电平信号，放大为具有足够功率（电压和电流）的信号，以驱动电机绕组。
* **驱动电路（为了提高高频转矩）**：
    * **单电压限流型**：在绕组回路中串联一个大电阻 $R_f$，减小电气时间常数 $T_a = L / (R_a + R_f)$，使电流能更快上升。缺点是功耗大、效率低。
    * **高低压驱动型**：启动时用高压 $U_1$ 使电流迅速上升，当电流达到额定值后，切换到低压 $U_2$ 来维持电流。效率高，控制较复杂。
    * （目前主流的**恒流斩波驱动**（Lec7中PWM技术的应用）**：** 使用一个高电压源，并通过PWM高速开关（斩波）来动态调节，强制使绕组电流保持在设定值，这是目前性能最好、效率最高的方式。）